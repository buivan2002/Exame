<%= form_with(model: @question, url: admin_questions_path, local: true) do |form| %>
  <div class="form-group">
    <%= form.label :category_id, "Chọn chủ đề" %>
    <%= form.collection_select :category_id, Category.all, :id, :name, prompt: "Chọn chủ đề" %>
  </div>

  <div class="form-group">
    <%= form.label :content, "Nội dung câu hỏi" %>
    <%= form.text_area :content, rows: 3, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :question_type, "Loại câu hỏi" %>
    <%= form.select :question_type, [['One Choice', 'one_choice'], ['True/False', 'true/false'], ['Multi Choice', 'multi_choice']], class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :status, "Trạng thái" %>
    <%= form.select :status, [['Active', 'active'], ['Inactive', 'inactive']], class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :explanation, "Giải thích câu hỏi" %>
    <%= form.text_area :explanation, rows: 3, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :image_url, "Đường dẫn ảnh câu hỏi" %>
    <%= form.text_field :image_url, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.fields_for :answers do |answer_fields| %>
      <%= render 'answer_fields', f: answer_fields %>
    <% end %>
    <div class="nested-fields">
      <%= link_to_add_association 'Thêm đáp án', form, :answers, class: "btn btn-primary" %>
    </div>
  </div>

  <div class="form-group">
    <%= form.submit "Tạo câu hỏi", class: "btn btn-success" %>
  </div>
<% end %>
